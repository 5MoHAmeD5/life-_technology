<!DOCTYPE html>
<html lang="en" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Life Technology</title>
    <style>
        :root {
            --bg-color: #f4f7fa;
            --text-color: #333;
            --card-bg: #fff;
            --accent: #007bff;
            --shadow: rgba(0,0,0,0.1);
        }
        [data-theme="dark"] {
            --bg-color: #1a1a1a;
            --text-color: #e0e0e0;
            --card-bg: #2a2a2a;
            --accent: #4dabf7;
            --shadow: rgba(255,255,255,0.1);
        }
        body {
            font-family: 'Arial', sans-serif;
            margin: 0;
            padding: 0;
            background-color: var(--bg-color);
            color: var(--text-color);
            transition: background-color 0.3s, color 0.3s;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            direction: ltr;
        }
        body[dir="rtl"] {
            direction: rtl;
        }
        .login-container {
            background: var(--card-bg);
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 4px 8px var(--shadow);
            width: 350px;
            text-align: center;
        }
        .social-buttons {
            display: flex;
            flex-direction: column;
            gap: 10px;
            margin-bottom: 20px;
        }
        .social-btn {
            padding: 10px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 16px;
        }
        .google { background: #db4437; color: white; }
        .facebook { background: #4267b2; color: white; }
        input {
            width: 100%;
            padding: 10px;
            margin: 10px 0;
            border: 1px solid var(--shadow);
            border-radius: 5px;
            background: var(--card-bg);
            color: var(--text-color);
        }
        button {
            background: var(--accent);
            color: white;
            border: none;
            padding: 10px;
            width: 100%;
            cursor: pointer;
            border-radius: 5px;
            transition: background 0.3s;
        }
        button:hover { background: #0056b3; }
        .guest-btn {
            background: #28a745;
            margin-top: 10px;
        }
        .guest-btn:hover { background: #218838; }
        .error { color: red; margin-top: 10px; }
        .controls {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            gap: 10px;
        }
    </style>
</head>
<body data-theme="light">
    <div class="controls">
        <button id="theme-toggle">ðŸŒ™ Dark Mode</button>
        <button id="lang-toggle">Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Arabic)</button>
    </div>
    <div class="login-container">
        <h2 id="login-title">Login to Life Technology</h2>
        <div class="social-buttons">
            <button class="social-btn google" id="google-login">Login with Google</button>
            <button class="social-btn facebook" id="facebook-login">Login with Facebook</button>
        </div>
        <form id="login-form">
            <input type="email" id="email" placeholder="Email" required>
            <input type="tel" id="phone" placeholder="Phone Number" required>
            <input type="password" id="password" placeholder="Password" required>
            <button type="submit">Login</button>
        </form>
        <button class="guest-btn" id="guest-btn">Continue as Guest</button>
        <p class="error" id="error"></p>
        <p><a href="index.html" id="back-link">Back to Home</a></p>
    </div>

    <script>
const API_BASE = 'http://localhost:4000/api';

// Theme & Lang toggles (keep your existing code)...
// ------------------------
const themeToggle = document.getElementById('theme-toggle');
themeToggle.addEventListener('click', () => {
  const body = document.body;
  if (body.dataset.theme === 'light') {
    body.dataset.theme = 'dark';
    themeToggle.textContent = 'â˜€ï¸ Light Mode';
  } else {
    body.dataset.theme = 'light';
    themeToggle.textContent = 'ðŸŒ™ Dark Mode';
  }
});

const langToggle = document.getElementById('lang-toggle');
let isArabic = false;
langToggle.addEventListener('click', () => {
  isArabic = !isArabic;
  document.body.dir = isArabic ? 'rtl' : 'ltr';
  document.documentElement.lang = isArabic ? 'ar' : 'en';
  langToggle.textContent = isArabic ? 'English' : 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ© (Arabic)';
  document.getElementById('login-title').textContent = isArabic ? 'ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¥Ù„Ù‰ Ù„Ø§ÙŠÙ ØªÙƒÙ†ÙˆÙ„ÙˆØ¬ÙŠ' : 'Login to Life Technology';
  document.getElementById('email').placeholder = isArabic ? 'Ø§Ù„Ø¨Ø±ÙŠØ¯ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ' : 'Email';
  document.getElementById('phone').placeholder = isArabic ? 'Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ' : 'Phone Number';
  document.getElementById('password').placeholder = isArabic ? 'ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±' : 'Password';
  document.getElementById('back-link').textContent = isArabic ? 'Ø§Ù„Ø¹ÙˆØ¯Ø© Ø¥Ù„Ù‰ Ø§Ù„ØµÙØ­Ø© Ø§Ù„Ø±Ø¦ÙŠØ³ÙŠØ©' : 'Back to Home';
});

// Social Logins (mock)
document.getElementById('google-login').addEventListener('click', () => {
  alert('Google login simulation - Redirecting...');
  // In a real app you'd integrate OAuth and get a token from the backend.
});

// Email/Phone Login Form
document.getElementById('login-form').addEventListener('submit', async (e) => {
  e.preventDefault();
  const email = document.getElementById('email').value;
  const phone = document.getElementById('phone').value;
  const password = document.getElementById('password').value;
  const error = document.getElementById('error');

  const identifier = email || phone;
  try {
    const resp = await fetch(`${API_BASE}/auth/login`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ identifier, password })
    });
    const data = await resp.json();
    if (!resp.ok) {
      error.textContent = data.error || 'Login failed';
      return;
    }
    // store token & redirect
    localStorage.setItem('token', data.token);
    localStorage.setItem('user', JSON.stringify(data.user));
    window.location.href = 'index.html';
  } catch (err) {
    error.textContent = 'Network error';
  }
});

// Guest Button - continue without login
document.getElementById('guest-btn').addEventListener('click', () => {
  window.location.href = 'index.html';
});
</script>

</body>
</html>
<!------------lifetechnology1234@#$-->